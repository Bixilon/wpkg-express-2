var AppActionScriptsActionsAdd=AppActionScriptsActionsAdd||{};(function(b){function a(){var h=".form-edit-action";var j=b(h);var e=j.attr("action");var i=b("#PackageActionActionTypeId");var g=b("#PackageActionCommandTypeId");var d=null;var f="";if(!e){return}var c=e.match(/\.(?:mod|pop)$/);if(c){f=c[0]}e=e.replace(/(\/(action|command):[\d]*|\.(mod|pop)$)/g,"");e+="/action:"+i.val()+"/command:"+g.val()+f+" "+h;d=j.attr("data-toggle");j.parent().load(e,function(){if(d){b(h).attr("data-toggle",d)}b(document).trigger("MainAppScripts:update")})}AppActionScriptsActionsAdd.updateActionType=function(){b("#PackageActionActionTypeId").off("change.AppActionScriptsActionsAdd").on("change.AppActionScriptsActionsAdd",a)};AppActionScriptsActionsAdd.updateCommandType=function(){b("#PackageActionCommandTypeId").off("change.AppActionScriptsActionsAdd").on("change.AppActionScriptsActionsAdd",a)};AppActionScriptsActionsAdd.updateCommandTextarea=function(){var c=b("#PackageActionCommand").off("keypress.AppActionScriptsActionsAdd").on("keypress.AppActionScriptsActionsAdd",function(d){if(d.keyCode==13){d.preventDefault()}})};return AppActionScriptsActionsAdd})(jQuery);$(function(){$(document).off("MainAppScripts:update.AppActionScriptsActionsAdd").on("MainAppScripts:update.AppActionScriptsActionsAdd",function(){AppActionScriptsActionsAdd.updateActionType();AppActionScriptsActionsAdd.updateCommandType();AppActionScriptsActionsAdd.updateCommandTextarea()})});